> âš ï¸ **íˆ¬ì ê´€ë ¨ ì•ˆë‚´ì‚¬í•­ (Disclaimer)**
>
> ë³¸ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” **í•™ìŠµ ë° ì—°êµ¬ ëª©ì **ìœ¼ë¡œ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤.
>
> - **íˆ¬ì ê¶Œìœ ê°€ ì•„ë‹™ë‹ˆë‹¤**: ë³¸ ì‹œìŠ¤í…œì˜ ì‹ í˜¸, ë¶„ì„, ì „ëµì€ íˆ¬ì ì¡°ì–¸ì´ë‚˜ ê¶Œìœ ê°€ ì•„ë‹™ë‹ˆë‹¤.
> - **ì†ì‹¤ ìœ„í—˜**: ëª¨ë“  íˆ¬ìì—ëŠ” ì›ê¸ˆ ì†ì‹¤ì˜ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤. ê³¼ê±° ì„±ê³¼ê°€ ë¯¸ë˜ ìˆ˜ìµì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
> - **ìê¸° ì±…ì„**: ë³¸ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì‚¬ìš©í•œ ëª¨ë“  íˆ¬ì ê²°ì •ê³¼ ê·¸ ê²°ê³¼ëŠ” ì‚¬ìš©ì ë³¸ì¸ì˜ ì±…ì„ì…ë‹ˆë‹¤.
> - **ì „ë¬¸ê°€ ìƒë‹´ ê¶Œì¥**: ì‹¤ì œ íˆ¬ì ì „ ê³µì¸ëœ ê¸ˆìœµ ì „ë¬¸ê°€ì™€ ìƒë‹´í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
> - **í…ŒìŠ¤íŠ¸ ê¶Œì¥**: ì‹¤ì œ ìê¸ˆ íˆ¬ì… ì „ ëª¨ì˜íˆ¬ì í™˜ê²½ì—ì„œ ì¶©ë¶„íˆ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.
>
> ê°œë°œìëŠ” ë³¸ ì†Œí”„íŠ¸ì›¨ì–´ ì‚¬ìš©ìœ¼ë¡œ ì¸í•œ ì§ì ‘ì , ê°„ì ‘ì  ì†ì‹¤ì— ëŒ€í•´ ì–´ë– í•œ ì±…ì„ë„ ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.

---

<p align="center">
  <h1 align="center">ZeroQuant</h1>
  <p align="center">
    <strong>Rust ê¸°ë°˜ ê³ ì„±ëŠ¥ ë‹¤ì¤‘ ì‹œì¥ ìë™í™” íŠ¸ë ˆì´ë”© ì‹œìŠ¤í…œ</strong>
  </p>
  <p align="center">
    <a href="#ì£¼ìš”-ê¸°ëŠ¥">ì£¼ìš” ê¸°ëŠ¥</a> â€¢
    <a href="#ì§€ì›-ì „ëµ">ì§€ì› ì „ëµ</a> â€¢
    <a href="#ì„¤ì¹˜-ê°€ì´ë“œ">ì„¤ì¹˜ ê°€ì´ë“œ</a> â€¢
    <a href="#ë°ì´í„°-ìˆ˜ì§‘ê¸°-collector">ìˆ˜ì§‘ê¸°</a> â€¢
    <a href="#ë§ˆì´ê·¸ë ˆì´ì…˜-ê°€ì´ë“œ">ë§ˆì´ê·¸ë ˆì´ì…˜</a> â€¢
    <a href="#ì „ëµ-ê°œë°œ-ê°€ì´ë“œ">ì „ëµ ê°œë°œ</a> â€¢
    <a href="#ë¬¸ì„œ">ë¬¸ì„œ</a>
  </p>
</p>

---

## ì†Œê°œ

ZeroQuantëŠ” ì•”í˜¸í™”íì™€ ì£¼ì‹ ì‹œì¥ì—ì„œ **24/7 ìë™í™”ëœ ê±°ë˜**ë¥¼ ìˆ˜í–‰í•˜ëŠ” íŠ¸ë ˆì´ë”© ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

ê²€ì¦ëœ **16ê°€ì§€ í†µí•© ì „ëµ**ê³¼ **59ê°œ ML íŒ¨í„´ ì¸ì‹** (ìº”ë“¤ìŠ¤í‹± 35ê°œ + ì°¨íŠ¸ íŒ¨í„´ 24ê°œ)ì„ í†µí•´ **ê·¸ë¦¬ë“œ íŠ¸ë ˆì´ë”©**, **ìì‚°ë°°ë¶„**, **ëª¨ë©˜í…€** ë“± ë‹¤ì–‘í•œ íˆ¬ì ë°©ë²•ë¡ ì„ ì§€ì›í•©ë‹ˆë‹¤. ì›¹ ëŒ€ì‹œë³´ë“œì—ì„œ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ê³¼ ì „ëµ ì œì–´ê°€ ê°€ëŠ¥í•˜ë©°, ë¦¬ìŠ¤í¬ ê´€ë¦¬ ì‹œìŠ¤í…œì´ ìë™ìœ¼ë¡œ ìì‚°ì„ ë³´í˜¸í•©ë‹ˆë‹¤.

> âš ï¸ **v0.8.3 ì¿¼ë¦¬ ìµœì í™”, ë°±í…ŒìŠ¤íŠ¸ íƒ€ì„í”„ë ˆì„ í´ë°±, UI ì„±ëŠ¥**: OHLCV ë°°ì¹˜ ì¿¼ë¦¬ë¥¼ LATERAL JOIN + TimescaleDB ì²­í¬ í”„ë£¨ë‹ìœ¼ë¡œ ~70% ìµœì í™”í•˜ê³ , ë°±í…ŒìŠ¤íŠ¸/CLIì— ì „ëµ ê¸°ë³¸ íƒ€ì„í”„ë ˆì„ ìë™ í´ë°±ì„ ë„ì…í–ˆìŠµë‹ˆë‹¤. ìŠ¤í¬ë¦¬ë‹ ê°€ìƒ ìŠ¤í¬ë¡¤(11,000+ í–‰ 60fps), ìƒíƒœ/ë“±ê¸‰/ì ìˆ˜ ì •ë ¬, ë§¤ë§¤ì¼ì§€ ìƒì„¸ í†µê³„ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.

## ì£¼ìš” ê¸°ëŠ¥

### ğŸ¦ ë‹¤ì¤‘ ì‹œì¥ ì§€ì›
| ì‹œì¥ | ê±°ë˜ì†Œ | ê¸°ëŠ¥ |
|------|--------|------|
| ì•”í˜¸í™”í | Binance | í˜„ë¬¼ ê±°ë˜, WebSocket ì‹¤ì‹œê°„ ì‹œì„¸ |
| ì•”í˜¸í™”í (KR) | Upbit, Bithumb | ì›í™” ë§ˆì¼“, WebSocket ì‹¤ì‹œê°„ ì‹œì„¸ |
| í•œêµ­/ë¯¸êµ­ ì£¼ì‹ | í•œêµ­íˆ¬ìì¦ê¶Œ (KIS) | êµ­ë‚´/í•´ì™¸ ì£¼ì‹, WebSocket ì‹¤ì‹œê°„ ì‹œì„¸, ëª¨ì˜íˆ¬ì ì§€ì› |
| í•œêµ­ ì£¼ì‹ | DBê¸ˆìœµíˆ¬ì, LSì¦ê¶Œ | êµ­ë‚´ ì£¼ì‹, WebSocket ì‹¤ì‹œê°„ ì‹œì„¸ |

### ğŸ“ Paper Trading (v0.8.0)
- **ê°€ìƒ ê³„ì¢Œ ì‹œë®¬ë ˆì´ì…˜**: ì‹¤ì‹œê°„ ì‹œì„¸ ê¸°ë°˜ ê°€ìƒ ê±°ë˜ ì‹¤í–‰
- **ì „ëµ ê²€ì¦**: ì‹¤ì œ ìê¸ˆ ì—†ì´ ì „ëµ ì„±ê³¼ ê²€ì¦
- **ì‹¤ì‹œê°„ í¬ì§€ì…˜ ì¶”ì **: ê°€ìƒ í¬ì§€ì…˜ ë° ì²´ê²° ë‚´ì—­ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- **ê³„ì¢Œ ì´ˆê¸°í™”**: ê°€ìƒ ê³„ì¢Œ ë¦¬ì…‹ í›„ ì¬ì‹œì‘ ê°€ëŠ¥

### ğŸ“Š ë°ì´í„° & ë¶„ì„
- **ë‹¤ì¤‘ ë°ì´í„° ì†ŒìŠ¤**: KRX OPEN API, ë„¤ì´ë²„ ê¸ˆìœµ (êµ­ë‚´), Yahoo Finance (í•´ì™¸/ì•”í˜¸í™”í)
  - ë°ì´í„° í”„ë¡œë°”ì´ë” í† ê¸€ ì§€ì› (`PROVIDER_KRX_API_ENABLED`, `PROVIDER_YAHOO_ENABLED`, `NAVER_FUNDAMENTAL_ENABLED`)
  - ë„¤ì´ë²„ ê¸ˆìœµ í¬ë¡¤ë§ìœ¼ë¡œ êµ­ë‚´ í€ë”ë©˜í„¸ ë°ì´í„° ìˆ˜ì§‘ ì†ë„ ê°œì„ 
- **ë‹¤ì¤‘ íƒ€ì„í”„ë ˆì„ ë¶„ì„**: ì—¬ëŸ¬ ì‹œê°„ëŒ€ ë°ì´í„° ë™ì‹œ ë¶„ì„ (1ë¶„~ì›”ë´‰)
  - Look-Ahead Bias ë°©ì§€ ìë™ ì •ë ¬
  - í¬ë¡œìŠ¤ íƒ€ì„í”„ë ˆì„ ì‹œê·¸ë„ ê²°í•©
- **ì‹¤ì‹œê°„ ì‹œì„¸**: WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ ê°€ê²©/í˜¸ê°€/ì²´ê²° (KIS êµ­ë‚´/í•´ì™¸ + Binance)
  - Singleton ìŠ¤íŠ¸ë¦¼ ê´€ë¦¬ (credentialë³„ í•˜ë‚˜ì˜ WebSocket)
  - ë™ì  êµ¬ë…/í•´ì œ (ì „ëµ ì¶”ê°€/ì‚­ì œ ì‹œ ëŸ°íƒ€ì„ ë°˜ì˜)
  - í”„ë¡ íŠ¸ì—”ë“œ êµ¬ë… â†’ ê±°ë˜ì†Œ ìŠ¤íŠ¸ë¦¼ ìë™ ë¸Œë¦¿ì§€
- **OHLCV ë°°ì¹˜ ì¿¼ë¦¬**: LATERAL JOIN + TimescaleDB ì²­í¬ í”„ë£¨ë‹ìœ¼ë¡œ 2,500+ ì‹¬ë³¼ ë™ì‹œ ì¡°íšŒ 300ms ì´ë‚´
- **ê³¼ê±° ë°ì´í„°**: TimescaleDB ì‹œê³„ì—´ ì €ì¥, ë°±í…ŒìŠ¤íŒ… ì§€ì›
- **ë°ì´í„°ì…‹ ê´€ë¦¬**: Yahoo Finance ë°ì´í„° ë‹¤ìš´ë¡œë“œ, ìº”ë“¤ ë°ì´í„° CRUD
- **ë°±ê·¸ë¼ìš´ë“œ ìˆ˜ì§‘**: í€ë”ë©˜í„¸ ë°ì´í„° ìë™ ìˆ˜ì§‘, ì‹¬ë³¼ ìë™ ë™ê¸°í™” (KRX/Binance/Yahoo)
- **ML íŒ¨í„´ ì¸ì‹**: ìº”ë“¤ìŠ¤í‹± 35ê°œ + ì°¨íŠ¸ íŒ¨í„´ 24ê°œ (ONNX ì¶”ë¡ )
- **ML ëª¨ë¸ í›ˆë ¨**: XGBoost, LightGBM, RandomForest, ì•™ìƒë¸” ì§€ì›
- **ì„±ê³¼ ì§€í‘œ**: Sharpe Ratio, MDD, Win Rate, CAGR ë“±

### ğŸ¯ ê³ ê¸‰ ìŠ¤ì½”ì–´ë§ ì‹œìŠ¤í…œ
- **Global Score Ranking**: 7ê°œ íŒ©í„° ê¸°ë°˜ ì¢…í•© ì¢…ëª© í‰ê°€
  - VolumeQuality, Momentum, ValueFactor, RouteState ë“±
  - í˜ë„í‹° ì‹œìŠ¤í…œ (LiquidityGate, MarketRegime í•„í„°)
- **7Factor Scoring**: ì •ê·œí™”ëœ ë‹¤ìš”ì¸ ë¶„ì„ (0-100 ì ìˆ˜)
  - Momentum, Value, Quality, Volatility, Liquidity, Growth, Sentiment
- **RouteState Calculator**: ì§„ì… íƒ€ì´ë° ìë™ íŒë‹¨
  - ATTACK (ì§„ì… ì ê¸°), ARMED (ëŒ€ê¸°), WAIT (ê´€ì°°), OVERHEAT (ê³¼ì—´)
  - TTM Squeeze, ëª¨ë©˜í…€, RSI, Range ì¢…í•© ë¶„ì„
- **Market Regime**: 5ë‹¨ê³„ ì¶”ì„¸ ë¶„ë¥˜ (STRONG_UPTREND â†’ DOWNTREND)
- **Reality Check**: ì¶”ì²œ ì¢…ëª© ì‹¤ì œ ì„±ê³¼ ìë™ ê²€ì¦
  - ì „ì¼ ì¶”ì²œ â†’ ìµì¼ ì„±ê³¼ ìë™ ê³„ì‚°
  - ì¼ë³„/ì†ŒìŠ¤ë³„/ë­í¬ë³„ ìŠ¹ë¥  í†µê³„

### ğŸ¤– ì•Œë¦¼ & ëª¨ë‹ˆí„°ë§
- **ë‹¤ì±„ë„ ì•Œë¦¼**: Telegram, Discord, Slack, Email, SMS (Twilio) ì§€ì›
  - í¬ì§€ì…˜ í˜„í™© ë° ì†ìµ ì—…ë°ì´íŠ¸
  - ê±°ë˜ ì²´ê²° ì•Œë¦¼
  - ì „ëµ ì‹ í˜¸ ì•Œë¦¼
- **Signal System**: ë°±í…ŒìŠ¤íŠ¸/ì‹¤ê±°ë˜ ì‹ í˜¸ ì €ì¥
  - ì‹ í˜¸ ë§ˆì»¤ (ì°¨íŠ¸ í‘œì‹œìš©)
  - ì•Œë¦¼ ê·œì¹™ ê´€ë¦¬ (JSONB í•„í„°)

### ğŸ›¡ï¸ ë¦¬ìŠ¤í¬ ê´€ë¦¬
- **ExitConfig í†µí•© ë¦¬ìŠ¤í¬ ê´€ë¦¬** (v0.8.2): 6ê°€ì§€ ë¦¬ìŠ¤í¬ ì˜µì…˜ì„ ì „ëµë³„ë¡œ ì¡°í•©
  - **StopLoss**: ê³ ì • % ì†ì ˆ ë˜ëŠ” ATR(í‰ê·  ì§„í­ ë²”ìœ„) ê¸°ë°˜ ë™ì  ì†ì ˆ
  - **TakeProfit**: ê³ ì • % ìµì ˆ
  - **TrailingStop**: 4ê°€ì§€ ëª¨ë“œ (ê³ ì • %, ATR ê¸°ë°˜, ë‹¨ê³„ë³„ Step, Parabolic SAR)
  - **ProfitLock**: ìˆ˜ìµ ë³´í˜¸ â€” ëª©í‘œ ìˆ˜ìµ ë‹¬ì„± í›„ ì¼ì • ë¹„ìœ¨ ì´í•˜ í•˜ë½ ì‹œ ìë™ ì²­ì‚°
  - **DailyLossLimit**: ì¼ì¼ ìµœëŒ€ ì†ì‹¤ ë¹„ìœ¨ ì´ˆê³¼ ì‹œ ê±°ë˜ ì¤‘ë‹¨
  - **ë°˜ëŒ€ ì‹ í˜¸ ì²­ì‚°**: ë³´ìœ  ì¤‘ ë°˜ëŒ€ ë°©í–¥ ì‹ í˜¸ ë°œìƒ ì‹œ ì¦‰ì‹œ ì²­ì‚°
- **6ê°€ì§€ í”„ë¦¬ì…‹** ì œê³µ (day_trading, mean_reversion, grid, rebalancing, leverage, momentum)
- ì „ëµë§ˆë‹¤ `exit_config()` trait ë©”ì„œë“œë¡œ ë¦¬ìŠ¤í¬ ì„¤ì •ì„ ì—”ì§„ì— ì „ë‹¬
- `enrich_signal()`: Entry ì‹ í˜¸ì— SL/TP ê°€ê²© ìë™ ê³„ì‚°, íŠ¸ë ˆì¼ë§/ìˆ˜ìµì ê¸ˆì€ metadataë¡œ executorì— ì „ë‹¬
- Circuit Breaker íŒ¨í„´ (ì—ëŸ¬ ì¹´í…Œê³ ë¦¬ë³„ ì°¨ë“± ì„ê³„ì¹˜)
- API ì¬ì‹œë„ ì‹œìŠ¤í…œ (ì§€ìˆ˜ ë°±ì˜¤í”„, Rate Limit ëŒ€ì‘)

### ğŸ–¥ï¸ ì›¹ ëŒ€ì‹œë³´ë“œ
- ì‹¤ì‹œê°„ í¬íŠ¸í´ë¦¬ì˜¤ ëª¨ë‹ˆí„°ë§
- ì „ëµ ë“±ë¡/ì‹œì‘/ì¤‘ì§€/ì„¤ì • (SDUI ë™ì  í¼)
- ë°ì´í„°ì…‹ ê´€ë¦¬ (ì‹¬ë³¼ ë°ì´í„° ë‹¤ìš´ë¡œë“œ/ì¡°íšŒ/ì‚­ì œ)
- ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë° ê²°ê³¼ ì €ì¥/ë¹„êµ
- ML ëª¨ë¸ í›ˆë ¨ ë° ê´€ë¦¬
- ë™ê¸°í™”ëœ ë©€í‹° ì°¨íŠ¸ íŒ¨ë„
- ê±°ë˜ì†Œ API í‚¤ ê´€ë¦¬ (AES-256-GCM ì•”í˜¸í™”)

### ğŸ“’ ë§¤ë§¤ì¼ì§€ (Trading Journal)
ê±°ë˜ ë‚´ì—­ì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  íˆ¬ì ì„±ê³¼ë¥¼ ë¶„ì„í•©ë‹ˆë‹¤:
- **ì²´ê²° ë‚´ì—­ ë™ê¸°í™”**: ê±°ë˜ì†Œ APIì—ì„œ ìë™ ìˆ˜ì§‘
- **ì¢…ëª©ë³„ ë³´ìœ  í˜„í™©**: ë³´ìœ  ìˆ˜ëŸ‰, í‰ê·  ë§¤ì…ê°€, íˆ¬ì ê¸ˆì•¡
- **ë¬¼íƒ€ê¸° ìë™ ê³„ì‚°**: ì¶”ê°€ ë§¤ìˆ˜ ì‹œ ê°€ì¤‘í‰ê·  ë§¤ì…ê°€ ìë™ ê°±ì‹ 
- **FIFO ì‹¤í˜„ì†ìµ**: ì„ ì…ì„ ì¶œ ë°©ì‹ ì‹¤í˜„ì†ìµ ê³„ì‚° (ë¡œíŠ¸ë³„ ì¶”ì )
- **ì†ìµ ë¶„ì„**: ì‹¤í˜„/ë¯¸ì‹¤í˜„ ì†ìµ, ê¸°ê°„ë³„ ìˆ˜ìµë¥ 
- **ë§¤ë§¤ íŒ¨í„´ ë¶„ì„**: ë¹ˆë„, ì„±ê³µë¥ , í‰ê·  ë³´ìœ  ê¸°ê°„
- **í¬íŠ¸í´ë¦¬ì˜¤ ë¹„ì¤‘**: ì¢…ëª©ë³„ ë¹„ì¤‘ ì‹œê°í™” ë° ë¦¬ë°¸ëŸ°ì‹± ì¶”ì²œ
- **ë°±í…ŒìŠ¤íŠ¸ ì¸ì‚¬ì´íŠ¸**: ë§¤ìˆ˜/ë§¤ë„ ê±´ìˆ˜, ì´ ê±°ë˜ëŸ‰, í™œì„± ê±°ë˜ì¼, ìµœëŒ€ ìˆ˜ìµ/ì†ì‹¤ ë“± ìƒì„¸ í†µê³„

## ì§€ì› ì „ëµ

### í†µí•© ì „ëµ (v0.7.0)

#### ğŸ“ˆ ë‹¨ê¸°/ë¶„í•  ì „ëµ
| ì „ëµ | ì„¤ëª… |
|------|------|
| **DCA** | ë¶„í• ë§¤ìˆ˜ ì „ëµ (ê·¸ë¦¬ë“œ, ë¶„í• , ë¬´í•œ ë§¤ìˆ˜) |
| **Day Trading** | ë‹¨ê¸° ë§¤ë§¤ ì „ëµ |
| **Mean Reversion** | í‰ê· íšŒê·€ ì „ëµ |
| **Candle Pattern** | ìº”ë“¤ìŠ¤í‹± íŒ¨í„´ ì¸ì‹ |

#### ğŸ“Š ëª¨ë©˜í…€/ë¡œí…Œì´ì…˜ ì „ëµ
| ì „ëµ | ì„¤ëª… |
|------|------|
| **Rotation** | ëª¨ë©˜í…€ ë¡œí…Œì´ì…˜ ì „ëµ |
| **Compound Momentum** | ê³µê²©/ì•ˆì „ ìì‚° ì „í™˜ |
| **Momentum Power** | ETF ëª¨ë©˜í…€ ì „ëµ |

#### ğŸ¦ ìì‚°ë°°ë¶„ ì „ëµ
| ì „ëµ | ì„¤ëª… |
|------|------|
| **Asset Allocation** | ìì‚°ë°°ë¶„ ì „ëµ |
| **Pension Portfolio** | ì—°ê¸ˆ í¬íŠ¸í´ë¦¬ì˜¤ ì „ëµ |

#### ğŸ¯ ê¸°íƒ€ ì „ëµ
| ì „ëµ | ì„¤ëª… |
|------|------|
| **Sector VB** | ë³€ë™ì„± ëŒíŒŒ ì „ëµ |
| **US 3X Leverage** | ë ˆë²„ë¦¬ì§€ ETF ì „ëµ |
| **Momentum Surge** | ê¸‰ë“± ëª¨ë©˜í…€ ì „ëµ |
| **Market BothSide** | ì–‘ë°©í–¥ ë§¤ë§¤ ì „ëµ |
| **Small Cap Quant** | ì†Œí˜•ì£¼ í€€íŠ¸ ì „ëµ |
| **Range Trading** | êµ¬ê°„ë³„ ë¶„í•  ë§¤ë§¤ |
| **RSI Multi Timeframe** | ë‹¤ì¤‘ íƒ€ì„í”„ë ˆì„ ì „ëµ |

## ì „ëµ ì‹¤í–‰ ì•„í‚¤í…ì²˜ (v0.8.0)

ì „ëµì€ ë°ì´í„° ì†ŒìŠ¤ì™€ ì£¼ë¬¸ ì‹¤í–‰ ë°©ì‹ì„ ì•Œ í•„ìš” ì—†ì´, **Signalë§Œ ë°œí–‰**í•˜ë©´ ë©ë‹ˆë‹¤. ë°ì´í„°ì™€ ì‹¤í–‰ì€ ì˜ì¡´ì„± ì£¼ì…ìœ¼ë¡œ êµì²´ë©ë‹ˆë‹¤.

### ì‹¤í–‰ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DataProvider (êµì²´ ê°€ëŠ¥)                â”‚
â”‚  â€¢ ExchangeProvider (ì‹¤ì‹œê°„ ë°ì´í„°)      â”‚
â”‚  â€¢ BacktestEngine (ê³¼ê±° ë°ì´í„°)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚   Strategy   â”‚ â†’ Signal ë°œí–‰
           â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SignalProcessor (êµì²´ ê°€ëŠ¥)             â”‚
â”‚  â€¢ LiveExecutor (ì‹¤ì œ ì£¼ë¬¸)              â”‚
â”‚  â€¢ SimulatedExecutor (ê°€ìƒ ì²´ê²°)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì‹¤í–‰ ëª¨ë“œ ì¡°í•©

| ë°ì´í„° ì†ŒìŠ¤ | Signal ì²˜ë¦¬ | ê²°ê³¼ |
|------------|-------------|------|
| ExchangeProvider | LiveExecutor | **ì‹¤ê±°ë˜** |
| ExchangeProvider | SimulatedExecutor | **í˜ì´í¼ íŠ¸ë ˆì´ë”©** |
| BacktestEngine | SimulatedExecutor | **ë°±í…ŒìŠ¤íŠ¸** |

### SignalProcessor trait

`SignalProcessor`ëŠ” ì „ëµì´ ë°œí–‰í•œ Signalì„ ë°›ì•„ ì£¼ë¬¸ì„ ì‹¤í–‰í•˜ëŠ” í•µì‹¬ traitì…ë‹ˆë‹¤.

```rust
#[async_trait]
pub trait SignalProcessor: Send + Sync {
    /// Signal ìˆ˜ì‹  â†’ ì£¼ë¬¸ ì‹¤í–‰ â†’ TradeResult ë°˜í™˜
    async fn process_signal(&mut self, signal: &Signal, price: Decimal) -> Result<Option<TradeResult>>;

    /// ì”ê³  / í¬ì§€ì…˜ / ì²´ê²° ë‚´ì—­ ì¡°íšŒ
    fn balance(&self) -> Decimal;
    fn positions(&self) -> &HashMap<String, ProcessorPosition>;
    fn trades(&self) -> &[TradeResult];

    /// ê·¸ë£¹ë³„ í¬ì§€ì…˜ ê´€ë¦¬ (ê·¸ë¦¬ë“œ/ë¶„í• ë§¤ìˆ˜ ì „ëµìš©)
    fn positions_by_group(&self, group_id: &str) -> Vec<&ProcessorPosition>;
    fn position_keys_by_group(&self, group_id: &str) -> Vec<String>;
    fn group_unrealized_pnl(&self, group_id: &str, current_prices: &HashMap<String, Decimal>) -> Decimal;
}
```

| êµ¬í˜„ì²´ | ìœ„ì¹˜ | ìš©ë„ |
|--------|------|------|
| `SimulatedExecutor` | `trader-execution/src/simulated_executor.rs` | ë°±í…ŒìŠ¤íŠ¸, í˜ì´í¼ íŠ¸ë ˆì´ë”© |
| `LiveExecutor` | `trader-execution/src/live_executor.rs` | ì‹¤ê±°ë˜ (OrderExecutionProvider ì£¼ì…) [v0.8.1] |
| `OrderExecutor` (ë ˆê±°ì‹œ) | `trader-execution/src/executor.rs` | ë ˆê±°ì‹œ ì‹¤í–‰ê¸° |

### Position ID / Group ID ì‹œìŠ¤í…œ

ìŠ¤í”„ë ˆë“œ ê¸°ë°˜ ì „ëµ(ê·¸ë¦¬ë“œ, ë¶„í• ë§¤ìˆ˜ ë“±)ì—ì„œ **ë ˆë²¨ë³„ ë…ë¦½ í¬ì§€ì…˜ ê´€ë¦¬**ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.

```rust
Signal {
    ticker: "005930",              // ì‹¤ì œ ê±°ë˜ ì‹¬ë³¼
    position_id: "005930_grid_L1", // ê°œë³„ í¬ì§€ì…˜ ì‹ë³„
    group_id: "grid_55000_1707..", // ê´€ë ¨ í¬ì§€ì…˜ ê·¸ë£¹
}
```

| ì „ëµ | position_id í˜•ì‹ | group_id í˜•ì‹ |
|------|-----------------|---------------|
| Grid Trading | `{ticker}_grid_L{level}` | `grid_{base_price}_{timestamp}` |
| Magic Split | `{ticker}_split_L{level}` | `split_{ticker}_{timestamp}` |
| Infinity Bot | `{ticker}_inf_R{round}` | `inf_{ticker}_{timestamp}` [v0.8.1] |

### StrategyContext (ì „ëµ ì»¨í…ìŠ¤íŠ¸)

ì „ëµì— ì£¼ì…ë˜ëŠ” `Arc<RwLock<StrategyContext>>`ëŠ” ê±°ë˜ì†Œ ë°ì´í„°ì™€ ë¶„ì„ ë°ì´í„°ë¥¼ í†µí•© ì œê³µí•©ë‹ˆë‹¤.

```
StrategyContext
â”œâ”€â”€ ê±°ë˜ì†Œ ë°ì´í„° (1~5ì´ˆ ê°±ì‹ )
â”‚   â”œâ”€â”€ account          # ê³„ì¢Œ ì •ë³´ (ì”ê³ , ì¦ê±°ê¸ˆ)
â”‚   â”œâ”€â”€ positions         # ë³´ìœ  í¬ì§€ì…˜
â”‚   â”œâ”€â”€ pending_orders    # ë¯¸ì²´ê²° ì£¼ë¬¸
â”‚   â””â”€â”€ exchange_constraints # ê±°ë˜ì†Œ ì œì•½ (ìµœì†Œ ì£¼ë¬¸ëŸ‰, ìˆ˜ìˆ˜ë£Œìœ¨)
â”‚
â”œâ”€â”€ ë¶„ì„ ë°ì´í„° (1~10ë¶„ ê°±ì‹ )
â”‚   â”œâ”€â”€ global_scores     # ì¢…ëª©ë³„ ì¢…í•© ì ìˆ˜ (7íŒ©í„°)
â”‚   â”œâ”€â”€ route_states      # ì¢…ëª©ë³„ ì§„ì… ìƒíƒœ (ATTACK/ARMED/WAIT/OVERHEAT)
â”‚   â”œâ”€â”€ screening_results # ìŠ¤í¬ë¦¬ë‹ ê²°ê³¼
â”‚   â”œâ”€â”€ structural_features # êµ¬ì¡°ì  í”¼ì²˜ (ì¶”ì„¸, ë³€ë™ì„±)
â”‚   â”œâ”€â”€ trigger_results   # ì§„ì… íŠ¸ë¦¬ê±° ê²°ê³¼ (ê¸‰ë“±ì‹œë™, ë°•ìŠ¤ëŒíŒŒ ë“±)
â”‚   â”œâ”€â”€ market_regime     # ì‹œì¥ êµ­ë©´ (5ë‹¨ê³„)
â”‚   â”œâ”€â”€ market_breadth    # ì‹œì¥ í­ ì§€í‘œ
â”‚   â””â”€â”€ macro_environment # ë§¤í¬ë¡œ í™˜ê²½
â”‚
â””â”€â”€ ì‹œì¥ ë°ì´í„°
    â””â”€â”€ klines_by_timeframe # ë©€í‹° íƒ€ì„í”„ë ˆì„ ìº”ë“¤ ë°ì´í„°
```

**ì „ëµë³„ ê¶Œì¥ í™œìš© (v0.8.1 ì¬ì„¤ê³„):**

| ì „ëµ ìœ í˜• | RouteState | GlobalScore | ìŠ¤í¬ë¦¬ë‹ |
|----------|------------|-------------|----------|
| ë‹¨ì¼ í‹°ì»¤ | Overheatë§Œ ì°¨ë‹¨ | ë¯¸ì‚¬ìš© ë˜ëŠ” ê°•ë„ ì¡°ì • | - |
| US ETF (ìì‚°ë°°ë¶„/ëª¨ë©˜í…€) | Overheatë§Œ ì°¨ë‹¨ | ë¯¸ì‚¬ìš© (ìì²´ ëª¨ë©˜í…€) | - |
| ë¡œí…Œì´ì…˜ (KR) | Overheatë§Œ ì°¨ë‹¨ | í•„í„° ìœ ì§€ | `get_tickers_by_global_score` |
| ë¡œí…Œì´ì…˜ (US) | Overheatë§Œ ì°¨ë‹¨ | ë¯¸ì‚¬ìš© | - |
| DCA (Grid/ë¶„í• ë§¤ìˆ˜) | ë¯¸ì‚¬ìš© (ìˆœìˆ˜ ê°€ê²© ê¸°ë°˜) | ë¯¸ì‚¬ìš© | - |
| ìº”ë“¤ íŒ¨í„´ | Overheatë§Œ ì°¨ë‹¨ | ê°•ë„ ì¡°ì • (0.75x~1.25x) | - |

### Signal Filter ì‹œìŠ¤í…œ (v0.8.0)

ì „ëµì´ ë°œí–‰í•œ Signalì„ ì‹¤í–‰ ì „ ë‹¤ë‹¨ê³„ë¡œ í•„í„°ë§í•©ë‹ˆë‹¤.

```rust
// CompositeFilter: ì—¬ëŸ¬ í•„í„°ë¥¼ ì²´ì¸ìœ¼ë¡œ ì—°ê²°
let mut filter = CompositeFilter::new();
filter.add_filter(Box::new(VolumeFilter::new(1.5)));  // ê±°ë˜ëŸ‰ 150% ì´ìƒ
filter.add_filter(Box::new(TrendFilter::new()));       // ì¶”ì„¸ ë°©í–¥ ì¼ì¹˜

let result = filter.filter(&signal, &context);
if result.is_valid {
    // Signal ì‹¤í–‰
}
```

| í•„í„° | ì—­í•  | ì¡°ê±´ |
|------|------|------|
| `VolumeFilter` | ê±°ë˜ëŸ‰ ê²€ì¦ | í‰ê·  ê±°ë˜ëŸ‰ ëŒ€ë¹„ ìµœì†Œ ë¹„ìœ¨ |
| `TrendFilter` | ì¶”ì„¸ ë°©í–¥ ì¼ì¹˜ | ë§¤ìˆ˜ ì‹ í˜¸ + ìƒìŠ¹ ì¶”ì„¸ |
| `CompositeFilter` | ë‹¤ì¤‘ í•„í„° ì²´ì¸ | ëª¨ë“  í•„í„° í†µê³¼ ì‹œ ìœ íš¨ |
| `ConfirmationPattern` | ì—°ì† í™•ì¸ | NíšŒ ì—°ì† ì‹ í˜¸ ë°œìƒ ì‹œ ìœ íš¨ |

### Exchange Provider ì¶”ìƒí™”

ê±°ë˜ì†Œ ì—°ë™ì€ ë‘ ê°€ì§€ traitë¡œ ì¶”ìƒí™”ë˜ì–´, ì „ëµê³¼ ê±°ë˜ì†Œê°€ ì™„ì „íˆ ë¶„ë¦¬ë©ë‹ˆë‹¤.

```rust
/// ê³„ì¢Œ/í¬ì§€ì…˜/ì£¼ë¬¸ ê´€ë¦¬
#[async_trait]
pub trait ExchangeProvider: Send + Sync {
    async fn fetch_account(&self) -> Result<AccountInfo>;
    async fn fetch_positions(&self) -> Result<Vec<PositionInfo>>;
    async fn fetch_pending_orders(&self) -> Result<Vec<PendingOrder>>;
    async fn fetch_execution_history(&self, req: ExecutionHistoryRequest) -> Result<ExecutionHistoryResponse>;
}

/// ì‹œì„¸ ì¡°íšŒ
#[async_trait]
pub trait MarketDataProvider: Send + Sync {
    async fn get_quote(&self, symbol: &str) -> Result<QuoteData>;
    async fn get_quotes(&self, symbols: &[String]) -> Result<Vec<QuoteData>>;
}
```

| Provider | êµ¬í˜„ | ìš©ë„ |
|----------|------|------|
| `KisExchangeProvider` | `provider/kis.rs` | KIS í•œêµ­/ë¯¸êµ­ ì£¼ì‹ (í†µí•©) |
| `BinanceExchangeProvider` | `provider/binance.rs` | Binance ì•”í˜¸í™”í |
| `UpbitExchangeProvider` | `provider/upbit.rs` | Upbit ì•”í˜¸í™”í (ì›í™” ë§ˆì¼“) |
| `BithumbExchangeProvider` | `provider/bithumb.rs` | Bithumb ì•”í˜¸í™”í (ì›í™” ë§ˆì¼“) |
| `DbInvestmentExchangeProvider` | `provider/db_investment.rs` | DBê¸ˆìœµíˆ¬ì êµ­ë‚´ ì£¼ì‹ |
| `LsSecExchangeProvider` | `provider/ls_sec.rs` | LSì¦ê¶Œ êµ­ë‚´ ì£¼ì‹ |
| `MockExchangeProvider` | `provider/mock.rs` | ê°œë°œ/í…ŒìŠ¤íŠ¸, Paper Trading |

### MarketStream ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¼ (v0.8.0)

```
[KIS WebSocket KR/US] â”€â”€â”€ Bridge Task (mpsc) â”€â”€â†’ [UnifiedMarketStream]
                                                        â”‚
                                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                            â–¼           â–¼
                                  [MarketDataAggregator] [ë™ì  êµ¬ë… command channel]
                                            â”‚
                                            â–¼
                                  [SubscriptionManager] â†’ Frontend WebSocket
```

| íŒ¨í„´ | ì„¤ëª… |
|------|------|
| **Singleton** | credential_idë³„ ë‹¨ì¼ ìŠ¤íŠ¸ë¦¼ (ì—¬ëŸ¬ ì „ëµì´ ê³µìœ ) |
| **Bridge Task** | KR/US ê°œë³„ íƒœìŠ¤í¬ â†’ mpsc ì±„ë„ë¡œ ì´ë²¤íŠ¸ í†µí•© |
| **ì°¸ì¡° ì¹´ìš´íŠ¸** | êµ¬ë… ì‹¬ë³¼ì˜ ì‚¬ìš©ì ìˆ˜ ì¶”ì , 0ì´ë©´ êµ¬ë… í•´ì œ |
| **Lazy ì´ˆê¸°í™”** | ì „ëµ ì‹œì‘ ì‹œ DB ìê²©ì¦ëª… ê¸°ë°˜ìœ¼ë¡œ ìŠ¤íŠ¸ë¦¼ ìë™ ìƒì„± |
| **ë™ì  êµ¬ë…** | ì—°ê²° ì¤‘ì—ë„ ì‹¬ë³¼ ì¶”ê°€/í•´ì œ ê°€ëŠ¥ |

---

## ì „ëµ ê°œë°œ ê°€ì´ë“œ

ZeroQuantëŠ” í”ŒëŸ¬ê·¸ì¸ ê¸°ë°˜ ì „ëµ ì‹œìŠ¤í…œì„ ì§€ì›í•©ë‹ˆë‹¤. `Strategy` traitë¥¼ êµ¬í˜„í•˜ì—¬ ìƒˆë¡œìš´ ì „ëµì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Strategy Trait

```rust
#[async_trait]
pub trait Strategy: Send + Sync {
    // â”€â”€ í•„ìˆ˜ êµ¬í˜„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    fn name(&self) -> &str;
    fn version(&self) -> &str;
    fn description(&self) -> &str;

    /// ì„¤ì •ìœ¼ë¡œ ì „ëµ ì´ˆê¸°í™”
    async fn initialize(&mut self, config: Value)
        -> Result<(), Box<dyn std::error::Error + Send + Sync>>;

    /// ìƒˆ ì‹œì¥ ë°ì´í„° ìˆ˜ì‹  ì‹œ í˜¸ì¶œ â†’ íŠ¸ë ˆì´ë”© ì‹ í˜¸ ë°˜í™˜
    async fn on_market_data(&mut self, data: &MarketData)
        -> Result<Vec<Signal>, Box<dyn std::error::Error + Send + Sync>>;

    /// ì£¼ë¬¸ ì²´ê²° ì‹œ í˜¸ì¶œ
    async fn on_order_filled(&mut self, order: &Order)
        -> Result<(), Box<dyn std::error::Error + Send + Sync>>;

    /// í¬ì§€ì…˜ ì—…ë°ì´íŠ¸ ì‹œ í˜¸ì¶œ
    async fn on_position_update(&mut self, position: &Position)
        -> Result<(), Box<dyn std::error::Error + Send + Sync>>;

    /// ì „ëµ ì¢…ë£Œ ë° ë¦¬ì†ŒìŠ¤ ì •ë¦¬
    async fn shutdown(&mut self)
        -> Result<(), Box<dyn std::error::Error + Send + Sync>>;

    /// í˜„ì¬ ì „ëµ ìƒíƒœ (ëª¨ë‹ˆí„°ë§ìš©)
    fn get_state(&self) -> Value;

    // â”€â”€ ê¸°ë³¸ êµ¬í˜„ ì œê³µ (ì„ íƒì  ì˜¤ë²„ë¼ì´ë“œ) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    /// StrategyContext ì£¼ì… (ê±°ë˜ì†Œ ë°ì´í„°, GlobalScore, RouteState ì ‘ê·¼)
    fn set_context(&mut self, _context: Arc<RwLock<StrategyContext>>) {}

    /// ë‹¤ì¤‘ íƒ€ì„í”„ë ˆì„ ì„¤ì • (Noneì´ë©´ ë‹¨ì¼ íƒ€ì„í”„ë ˆì„)
    fn multi_timeframe_config(&self) -> Option<MultiTimeframeConfig> { None }

    /// ë‹¤ì¤‘ íƒ€ì„í”„ë ˆì„ ë°ì´í„°ë¡œ ì‹ í˜¸ ìƒì„± (ê¸°ë³¸: on_market_data í˜¸ì¶œ)
    async fn on_multi_timeframe_data(
        &mut self, primary_data: &MarketData,
        _secondary_data: &HashMap<Timeframe, Vec<Kline>>,
    ) -> Result<Vec<Signal>, Box<dyn std::error::Error + Send + Sync>>;

    /// ì˜ì†ì„±ì„ ìœ„í•œ ìƒíƒœ ì €ì¥/ë¡œë“œ
    fn save_state(&self) -> Result<Vec<u8>, Box<dyn std::error::Error + Send + Sync>> { Ok(vec![]) }
    fn load_state(&mut self, _data: &[u8]) -> Result<(), Box<dyn std::error::Error + Send + Sync>> { Ok(()) }
}
```

### ìƒˆ ì „ëµ ì¶”ê°€ ë°©ë²•

#### 1. ì „ëµ Config ì •ì˜ (SDUI ìŠ¤í‚¤ë§ˆ ìë™ ìƒì„±)

`crates/trader-strategy/src/strategies/my_strategy.rs`

```rust
use crate::Strategy;
use async_trait::async_trait;
use serde::{Deserialize, Serialize};
use rust_decimal::Decimal;
use rust_decimal_macros::dec;
use trader_strategy_macro::StrategyConfig;  // SDUI ìŠ¤í‚¤ë§ˆ ìë™ ìƒì„± ë§¤í¬ë¡œ

// ê³µí†µ ëª¨ë“ˆ ì„í¬íŠ¸ (v0.7.0+)
use super::common::{
    ExitConfig, calculate_rsi, PositionSizer, RiskChecker,
};

/// ì „ëµ ì„¤ì • - SDUI ìŠ¤í‚¤ë§ˆ ìë™ ìƒì„±
#[derive(Debug, Clone, Serialize, Deserialize, StrategyConfig)]
#[strategy(
    id = "my_strategy",                    // ì „ëµ ê³ ìœ  ID (URL/APIì—ì„œ ì‚¬ìš©)
    name = "ë‚˜ë§Œì˜ RSI ì „ëµ",               // UI í‘œì‹œëª…
    description = "RSI ê³¼ë§¤ìˆ˜/ê³¼ë§¤ë„ í‰ê· íšŒê·€", // ì „ëµ ì„¤ëª…
    category = "Intraday"                  // ì¹´í…Œê³ ë¦¬: Intraday, Swing, Position
)]
pub struct MyStrategyConfig {
    /// ê±°ë˜ ì¢…ëª©
    #[serde(default = "default_ticker")]
    #[schema(
        label = "ê±°ë˜ ì¢…ëª©",      // UI ë¼ë²¨
        field_type = "symbol",   // í•„ë“œ íƒ€ì…: symbol, number, integer, boolean, select
        default = "005930",      // ê¸°ë³¸ê°’
        section = "asset"        // UI ì„¹ì…˜ ê·¸ë£¹
    )]
    pub ticker: String,

    /// ê±°ë˜ ê¸ˆì•¡
    #[serde(default = "default_amount")]
    #[schema(label = "ê±°ë˜ ê¸ˆì•¡", field_type = "number", min = 10000, max = 100000000, default = 1000000, section = "asset")]
    pub amount: Decimal,

    /// RSI ê¸°ê°„
    #[serde(default = "default_rsi_period")]
    #[schema(label = "RSI ê¸°ê°„", field_type = "integer", min = 2, max = 100, default = 14, section = "indicator")]
    pub rsi_period: usize,

    /// ê³¼ë§¤ë„ ì„ê³„ê°’
    #[serde(default = "default_oversold")]
    #[schema(label = "ê³¼ë§¤ë„ ì„ê³„ê°’", field_type = "number", min = 0, max = 50, default = 30, section = "indicator")]
    pub oversold: Decimal,

    /// ê³¼ë§¤ìˆ˜ ì„ê³„ê°’
    #[serde(default = "default_overbought")]
    #[schema(label = "ê³¼ë§¤ìˆ˜ ì„ê³„ê°’", field_type = "number", min = 50, max = 100, default = 70, section = "indicator")]
    pub overbought: Decimal,

    /// ì²­ì‚° ì„¤ì • (ê³µí†µ ìŠ¤í‚¤ë§ˆ í”„ë˜ê·¸ë¨¼íŠ¸ ì°¸ì¡°)
    #[serde(default)]
    #[fragment("risk.exit_config")]
    pub exit_config: ExitConfig,

}

// ê¸°ë³¸ê°’ í•¨ìˆ˜ë“¤
fn default_ticker() -> String { "005930".to_string() }
fn default_amount() -> Decimal { dec!(1000000) }
fn default_rsi_period() -> usize { 14 }
fn default_oversold() -> Decimal { dec!(30) }
fn default_overbought() -> Decimal { dec!(70) }

impl Default for MyStrategyConfig {
    fn default() -> Self {
        Self {
            ticker: default_ticker(),
            amount: default_amount(),
            rsi_period: default_rsi_period(),
            oversold: default_oversold(),
            overbought: default_overbought(),
            exit_config: ExitConfig::default(),
        }
    }
}
```

#### 2. Strategy Trait êµ¬í˜„

```rust
pub struct MyStrategy {
    config: MyStrategyConfig,
    context: Option<Arc<RwLock<StrategyContext>>>,  // RouteState ì ‘ê·¼ìš©
}

#[async_trait]
impl Strategy for MyStrategy {
    fn name(&self) -> &str { "my_strategy" }
    fn version(&self) -> &str { "1.0.0" }
    fn description(&self) -> &str { "RSI ê¸°ë°˜ í‰ê· íšŒê·€ ì „ëµ" }

    // StrategyContext ì£¼ì… (GlobalScore, RouteState ì ‘ê·¼ìš©)
    fn set_context(&mut self, ctx: Arc<RwLock<StrategyContext>>) {
        self.context = Some(ctx);
    }

    async fn on_market_data(&mut self, data: &MarketData)
        -> Result<Vec<Signal>, Box<dyn std::error::Error + Send + Sync>> {
        let mut signals = vec![];

        // RouteState ê³¼ì—´ ì°¨ë‹¨ (v0.8.1 ê³µí†µ íŒ¨í„´)
        if let Some(ctx) = &self.context {
            let ctx = ctx.read().await;
            if let Some(state) = ctx.get_route_state(&self.config.ticker) {
                if state == RouteState::Overheat {
                    return Ok(vec![]); // ê³¼ì—´ ì¢…ëª© ì§„ì… ì°¨ë‹¨
                }
            }
        }

        // RSI ê³„ì‚° ë° ì‹ í˜¸ ìƒì„±
        let rsi = calculate_rsi(&data.closes, self.config.rsi_period)?;

        if rsi < self.config.oversold {
            signals.push(Signal::buy(&self.config.ticker, data.close));
        } else if rsi > self.config.overbought {
            signals.push(Signal::sell(&self.config.ticker, data.close));
        }

        Ok(signals)
    }
    // ... ë‚˜ë¨¸ì§€ í•„ìˆ˜ êµ¬í˜„ (initialize, on_order_filled, on_position_update, shutdown, get_state)
}
```

#### 3. ëª¨ë“ˆ ë° ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë“±ë¡

**ëª¨ë“ˆ ë“±ë¡**: `crates/trader-strategy/src/strategies/mod.rs`
```rust
pub mod my_strategy;
pub use my_strategy::*;
```

**ì „ëµ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë“±ë¡**: íŒŒì¼ í•˜ë‹¨ì— `register_strategy!` ë§¤í¬ë¡œ í˜¸ì¶œ
```rust
// inventory ê¸°ë°˜ ìë™ ë“±ë¡ (ì»´íŒŒì¼ íƒ€ì„ì— StrategyMeta ìƒì„±)
register_strategy! {
    id: "my_strategy",
    aliases: ["my_rsi"],
    name: "ë‚˜ë§Œì˜ RSI ì „ëµ",
    description: "RSI ê³¼ë§¤ìˆ˜/ê³¼ë§¤ë„ í‰ê· íšŒê·€",
    timeframe: "15m",
    tickers: [],                              // ë¹ˆ ë°°ì—´ = ì‚¬ìš©ì ì§€ì •
    category: Intraday,                       // Realtime, Intraday, Daily, Monthly
    markets: [Crypto, Stock],                 // ì§€ì› ì‹œì¥
    type: MyStrategy,                         // ::new()ë¡œ ìƒì„± (ë˜ëŠ” factory: MyStrategy::variant)
    config: MyStrategyConfig                  // SDUI ìŠ¤í‚¤ë§ˆ ìë™ ìƒì„±
}
```

#### 4. ExitConfig í†µí•© ë¦¬ìŠ¤í¬ ê´€ë¦¬ (v0.8.2)

ì „ëµë³„ë¡œ 6ê°€ì§€ ë¦¬ìŠ¤í¬ ì˜µì…˜ì„ `enabled: bool`ë¡œ ë…ë¦½ í™œì„±í™”/ë¹„í™œì„±í™”í•˜ì—¬ ì¡°í•©í•©ë‹ˆë‹¤.
`Strategy` traitì˜ `exit_config()` ë©”ì„œë“œë¡œ ì—”ì§„ì— ì „ë‹¬í•˜ë©´, `enrich_signal()`ì´ Entry ì‹ í˜¸ì— SL/TP ê°€ê²©ê³¼ metadataë¥¼ ìë™ ì ìš©í•©ë‹ˆë‹¤.

**ë¦¬ìŠ¤í¬ ì˜µì…˜ ìƒì„¸:**

| ì˜µì…˜ | ì„¤ëª… | ëª¨ë“œ/íŒŒë¼ë¯¸í„° | ë™ì‘ ë°©ì‹ |
|------|------|-------------|----------|
| **StopLoss** | ì†ì ˆ | `Fixed` (ê³ ì • %), `AtrBased` (ATR ë°°ìˆ˜) | Fixed: entry_price Â± pct% / ATR: executorì—ì„œ ATR ê°’ìœ¼ë¡œ ë™ì  ê³„ì‚° |
| **TakeProfit** | ìµì ˆ | `pct` (ê³ ì • %) | entry_price Â± pct% |
| **TrailingStop** | íŠ¸ë ˆì¼ë§ ìŠ¤í†± | `FixedPercentage`, `AtrBased`, `Step`, `ParabolicSar` | trigger_pct ë„ë‹¬ í›„ ê³ ì  ëŒ€ë¹„ stop_pct í•˜ë½ ì‹œ ì²­ì‚° |
| **ProfitLock** | ìˆ˜ìµ ì ê¸ˆ | `threshold_pct`, `lock_pct` | ìˆ˜ìµì´ threshold ë‹¬ì„± â†’ ìˆ˜ìµì˜ lock% ì´í•˜ í•˜ë½ ì‹œ ì²­ì‚° (ì˜ˆ: 5%ìˆ˜ìµ, 80%ì ê¸ˆ â†’ 4% ì´í•˜ë©´ ì²­ì‚°) |
| **DailyLossLimit** | ì¼ì¼ ì†ì‹¤ í•œë„ | `max_loss_pct` | ê³„ì¢Œ ëŒ€ë¹„ ì¼ì¼ ì†ì‹¤ì´ max_loss_pct ì´ˆê³¼ ì‹œ ê±°ë˜ ì¤‘ë‹¨ |
| **ë°˜ëŒ€ ì‹ í˜¸ ì²­ì‚°** | exit_on_opposite_signal | `bool` | ë³´ìœ  ì¤‘ ë°˜ëŒ€ ë°©í–¥ Entry ë°œìƒ ì‹œ ê¸°ì¡´ í¬ì§€ì…˜ ì¦‰ì‹œ ì²­ì‚° |

**TrailingStop 4ê°€ì§€ ëª¨ë“œ:**

| ëª¨ë“œ | ì„¤ëª… | íŒŒë¼ë¯¸í„° |
|------|------|---------|
| `FixedPercentage` | ê³ ì • % íŠ¸ë ˆì¼ë§ | trigger_pct (ì‹œì‘ ìˆ˜ìµë¥ ), stop_pct (ê³ ì  ëŒ€ë¹„ í•˜ë½í­) |
| `AtrBased` | ATR ê¸°ë°˜ ë™ì  íŠ¸ë ˆì¼ë§ | trigger_pct, atr_multiplier (ATR Ã— ë°°ìˆ˜ë§Œí¼ íŠ¸ë ˆì¼) |
| `Step` | ë‹¨ê³„ë³„ íŠ¸ë ˆì¼ë§ | step_levels: [{profit_pct, trail_pct}, ...] ìˆ˜ìµ êµ¬ê°„ë³„ ì°¨ë“± íŠ¸ë ˆì¼ |
| `ParabolicSar` | Parabolic SAR ì§€í‘œ ê¸°ë°˜ | ì§€í‘œê°€ ê°€ê²©ê³¼ êµì°¨ ì‹œ ì²­ì‚° |

**6ê°€ì§€ í”„ë¦¬ì…‹:**

| í”„ë¦¬ì…‹ | ì†ì ˆ | ìµì ˆ | íŠ¸ë ˆì¼ë§ | ë°˜ëŒ€ ì²­ì‚° | ì ìš© ëŒ€ìƒ |
|--------|------|------|----------|----------|----------|
| `for_day_trading()` | 2% Fixed | 4% | âŒ | âœ… | day_trading, sector_vb, momentum_surge |
| `for_mean_reversion()` | 3% Fixed | 6% | âŒ | âœ… | mean_reversion, range_trading, candle_pattern |
| `for_grid_trading()` | âŒ | 3% | âŒ | âŒ | DCA (grid, magic_split, infinity_bot) |
| `for_rebalancing()` | âŒ | âŒ | âŒ | âŒ | asset_allocation, rotation, pension_bot |
| `for_leverage()` | 5% Fixed | 10% | âœ… (5%â†’2%) | âœ… | us_3x_leverage, market_bothside |
| `for_momentum()` | 5% Fixed | 15% | âœ… (8%â†’3%) | âœ… | compound_momentum, momentum_power, rsi_multi_tf |

```rust
// Strategy traitì—ì„œ exit_config() ë°˜í™˜ â†’ ì—”ì§„ì´ enrich_signal() ìë™ ì ìš©
fn exit_config(&self) -> Option<&ExitConfig> {
    Some(&self.config.exit_config)
}

// ì»¤ìŠ¤í…€ ë¹Œë” íŒ¨í„´
let config = ExitConfig::for_momentum()
    .stop_loss(StopLossConfig { mode: StopLossMode::AtrBased, atr_multiplier: dec!(2.0), ..Default::default() })
    .trailing_stop(TrailingStopConfig { mode: TrailingMode::Step, step_levels: vec![
        StepLevel { profit_pct: dec!(5), trail_pct: dec!(3) },
        StepLevel { profit_pct: dec!(10), trail_pct: dec!(2) },
    ], ..Default::default() });
```

### CLIë¡œ ì „ëµ í…ŒìŠ¤íŠ¸ (v0.7.0+)

```bash
# ë‹¨ì¼ ì‹¬ë³¼ í…ŒìŠ¤íŠ¸
trader strategy-test --strategy my_strategy --symbol 005930 --market KR

# ë‹¤ì¤‘ ì‹¬ë³¼ í…ŒìŠ¤íŠ¸ (ë¡œí…Œì´ì…˜ ì „ëµ)
trader strategy-test --strategy rotation --symbols "SPY,QQQ,IWM" --market US

# JSON configë¡œ ìƒì„¸ í…ŒìŠ¤íŠ¸
trader strategy-test --strategy my_strategy --config '{"ticker":"005930","rsi_period":14}'

# ë””ë²„ê·¸ ëª¨ë“œ (ìƒì„¸ ì§„ë‹¨ ì •ë³´ ì¶œë ¥)
trader strategy-test --strategy my_strategy --symbol 005930 --debug
```

### ë°±í…ŒìŠ¤íŠ¸ CLI (v0.8.1+)

```bash
# TOML ì„¤ì • íŒŒì¼ë¡œ ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰
trader backtest --config config/backtest/rsi.toml

# ìë™ ì°¨íŠ¸ ìƒì„± (equity curve, drawdown, trade markers)
trader backtest --config config/backtest/grid.toml --chart

# ë©€í‹°ì—ì…‹ ì „ëµ (HAA, XAA, StockRotation ë“± ìë™ ê°ì§€)
trader backtest --config config/backtest/haa.toml

# ì‚¬ì „ ì •ì˜ ì„¤ì • íŒŒì¼ (config/backtest/)
# rsi.toml, bollinger.toml, grid.toml, magic_split.toml, infinity_bot.toml,
# haa.toml, xaa.toml, compound_momentum.toml, stock_rotation.toml, volatility.toml
```

**ê¸°ëŠ¥:**
- **ë©€í‹°ì—ì…‹ ìë™ ê°ì§€**: ë‹¤ì¤‘ ì‹¬ë³¼ ì „ëµì€ StrategyContextì™€ í•¨ê»˜ ìë™ ì‹¤í–‰
- **ìŠ¤ë§ˆíŠ¸ ì‹¬ë³¼ í•´ì„**: KR ì¢…ëª©ì½”ë“œë¥¼ `.KS`/`.KQ` ì ‘ë¯¸ì‚¬ë¡œ ìë™ ë³€í™˜
- **Signal Analysis Report**: Entry/Exit ê· í˜•, ë ˆë²¨ë³„ ë¶„í¬, ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìë™ ì¶œë ¥
- **íšŒê·€ ì°¨íŠ¸**: `--chart` ì˜µì…˜ìœ¼ë¡œ equity curve, drawdown, ê±°ë˜ ë§ˆì»¤ í¬í•¨ PNG ìƒì„±
- **íƒ€ì„í”„ë ˆì„ ìë™ í´ë°±**: ì „ëµ ê¸°ë³¸ íƒ€ì„í”„ë ˆì„ â†’ secondary â†’ ì¼ë°˜(1m~1d) ìˆœì„œë¡œ ê°€ìš© ë°ì´í„° ìë™ íƒìƒ‰

### ì „ëµ êµ¬ì¡°

```
crates/trader-strategy/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ lib.rs              # ëª¨ë“ˆ ì§„ì…ì 
â”‚   â”œâ”€â”€ traits.rs           # Strategy trait ì •ì˜
â”‚   â”œâ”€â”€ engine.rs           # ì „ëµ ì—”ì§„ (ë¡œë”©/ì‹¤í–‰)
â”‚   â”œâ”€â”€ plugin/             # ë™ì  í”ŒëŸ¬ê·¸ì¸ ë¡œë”
â”‚   â””â”€â”€ strategies/
â”‚       â”œâ”€â”€ mod.rs          # ì „ëµ ëª¨ë“ˆ ëª©ë¡
â”‚       â”œâ”€â”€ common/         # ê³µí†µ ìœ í‹¸ë¦¬í‹° (v0.7.0 ëŒ€í­ í™•ì¥)
â”‚       â”‚   â”œâ”€â”€ exit_config.rs      # í†µí•© ë¦¬ìŠ¤í¬ ê´€ë¦¬ ì„¤ì • (5ê°€ì§€ íƒ€ì…) [v0.8.2]
â”‚       â”‚   â”œâ”€â”€ global_score_utils.rs # GlobalScore ìœ í‹¸ë¦¬í‹°
â”‚       â”‚   â”œâ”€â”€ indicators.rs       # ê¸°ìˆ  ì§€í‘œ (RSI, SMA, BB ë“±)
â”‚       â”‚   â”œâ”€â”€ position_sizing.rs  # í¬ì§€ì…˜ ì‚¬ì´ì§•
â”‚       â”‚   â”œâ”€â”€ risk_checks.rs      # ë¦¬ìŠ¤í¬ ê²€ì¦
â”‚       â”‚   â””â”€â”€ signal_filters.rs   # ì‹ í˜¸ í•„í„°ë§
â”‚       â”œâ”€â”€ day_trading.rs      # ë‹¨íƒ€/ê·¸ë¦¬ë“œ ì „ëµ
â”‚       â”œâ”€â”€ mean_reversion.rs   # RSI/ë³¼ë¦°ì € í‰ê· íšŒê·€
â”‚       â”œâ”€â”€ rotation.rs         # ëª¨ë©˜í…€ ë¡œí…Œì´ì…˜
â”‚       â”œâ”€â”€ asset_allocation.rs # ìì‚°ë°°ë¶„ (HAA/XAA/BAA)
â”‚       â””â”€â”€ ...                 # ê¸°íƒ€ í†µí•© ì „ëµë“¤
```

## ì•„í‚¤í…ì²˜

```
zeroquant/
â”œâ”€â”€ crates/
â”‚   â”œâ”€â”€ trader-core/         # ë„ë©”ì¸ ëª¨ë¸, ê³µí†µ ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â””â”€â”€ domain/          # Account, ExchangeTypes, Signal, Context [v0.8.0]
â”‚   â”œâ”€â”€ trader-exchange/     # ê±°ë˜ì†Œ ì—°ë™ (KIS, Binance, Upbit, Bithumb, DBê¸ˆìœµíˆ¬ì, LSì¦ê¶Œ)
â”‚   â”‚   â”œâ”€â”€ provider/        # ExchangeProvider (KIS, Binance, Upbit, Bithumb, DBê¸ˆíˆ¬, LSì¦ê¶Œ, Mock)
â”‚   â”‚   â”œâ”€â”€ connector/       # ê±°ë˜ì†Œ ì»¤ë„¥í„°
â”‚   â”‚   â”‚   â”œâ”€â”€ kis/         # KIS ì»¤ë„¥í„° (WebSocket ë™ì  êµ¬ë…)
â”‚   â”‚   â”‚   â”œâ”€â”€ upbit/       # Upbit ì»¤ë„¥í„°
â”‚   â”‚   â”‚   â”œâ”€â”€ bithumb/     # Bithumb ì»¤ë„¥í„°
â”‚   â”‚   â”‚   â”œâ”€â”€ db_investment/ # DBê¸ˆìœµíˆ¬ì ì»¤ë„¥í„°
â”‚   â”‚   â”‚   â””â”€â”€ ls_sec/      # LSì¦ê¶Œ ì»¤ë„¥í„°
â”‚   â”‚   â”œâ”€â”€ stream.rs        # UnifiedMarketStream (Bridge Task íŒ¨í„´)
â”‚   â”‚   â””â”€â”€ simulated/       # ì‹œë®¬ë ˆì´ì…˜ ê±°ë˜ì†Œ
â”‚   â”œâ”€â”€ trader-strategy/     # ì „ëµ ì—”ì§„, 16ê°œ í†µí•© ì „ëµ
â”‚   â”‚   â””â”€â”€ strategies/common/ # ê³µí†µ ëª¨ë“ˆ (exit_config, global_score_utils ë“±)
â”‚   â”œâ”€â”€ trader-risk/         # ë¦¬ìŠ¤í¬ ê´€ë¦¬
â”‚   â”œâ”€â”€ trader-execution/    # ì£¼ë¬¸ ì‹¤í–‰ ì—”ì§„ (LiveExecutor, SimulatedExecutor) [v0.8.1]
â”‚   â”œâ”€â”€ trader-data/         # ë°ì´í„° ìˆ˜ì§‘/ì €ì¥ (OHLCV)
â”‚   â”‚   â””â”€â”€ provider/        # ë°ì´í„° í”„ë¡œë°”ì´ë”
â”‚   â”‚       â”œâ”€â”€ naver.rs         # ë„¤ì´ë²„ ê¸ˆìœµ (êµ­ë‚´)
â”‚   â”‚       â”œâ”€â”€ yahoo_fundamental.rs # Yahoo í€ë”ë©˜í„¸ (í•´ì™¸)
â”‚   â”‚       â””â”€â”€ krx_api.rs       # KRX OPEN API
â”‚   â”œâ”€â”€ trader-analytics/    # ML ì¶”ë¡ , ì„±ê³¼ ë¶„ì„, íŒ¨í„´ ì¸ì‹, CandleProcessor [v0.8.2]
â”‚   â”œâ”€â”€ trader-api/          # REST/WebSocket API (OpenAPI 3.0 ë¬¸ì„œí™”)
â”‚   â”‚   â”œâ”€â”€ repository/      # ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ (12ê°œ Repository)
â”‚   â”‚   â”œâ”€â”€ routes/          # ëª¨ë“ˆí™”ëœ ë¼ìš°íŠ¸ (paper_trading ì¶”ê°€) [v0.8.0]
â”‚   â”‚   â”œâ”€â”€ services/        # MarketStreamHandle, SignalProcessor [v0.8.0]
â”‚   â”‚   â””â”€â”€ websocket/       # ì‹¤ì‹œê°„ ì—°ë™ (Aggregator, Handler) [v0.8.0]
â”‚   â”œâ”€â”€ trader-cli/          # CLI ë„êµ¬
â”‚   â”‚   â””â”€â”€ commands/
â”‚   â”‚       â”œâ”€â”€ strategy_test.rs # ì „ëµ í†µí•© í…ŒìŠ¤íŠ¸ (v0.7.0 ì‹ ê·œ)
â”‚   â”‚       â””â”€â”€ download.rs      # ë°ì´í„° ë‹¤ìš´ë¡œë“œ
â”‚   â”œâ”€â”€ trader-collector/    # Standalone ë°ì´í„° ìˆ˜ì§‘ê¸°
â”‚   â”‚   â””â”€â”€ modules/         # ìˆ˜ì§‘ ëª¨ë“ˆ (ohlcv, indicator, global_score, market_breadth) [v0.8.0]
â”‚   â””â”€â”€ trader-notification/ # ì•Œë¦¼ (Telegram, Discord, Slack, Email, SMS)
â”œâ”€â”€ frontend/                # SolidJS + TypeScript + Vite
â”‚   â”œâ”€â”€ src/pages/
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx    # í¬íŠ¸í´ë¦¬ì˜¤ ëª¨ë‹ˆí„°ë§
â”‚   â”‚   â”œâ”€â”€ Strategies.tsx   # ì „ëµ ë“±ë¡/ê´€ë¦¬ (SDUI)
â”‚   â”‚   â”œâ”€â”€ Dataset.tsx      # ë°ì´í„°ì…‹ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ Backtest.tsx     # ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰
â”‚   â”‚   â”œâ”€â”€ Simulation.tsx   # ì‹œë®¬ë ˆì´ì…˜ + Paper Trading [v0.8.0]
â”‚   â”‚   â”œâ”€â”€ MLTraining.tsx   # ML ëª¨ë¸ í›ˆë ¨
â”‚   â”‚   â”œâ”€â”€ Screening.tsx   # ì¢…ëª© ìŠ¤í¬ë¦¬ë‹ (ê°€ìƒ ìŠ¤í¬ë¡¤, ì •ë ¬) [v0.8.3]
â”‚   â”‚   â”œâ”€â”€ TradingJournal.tsx # ë§¤ë§¤ì¼ì§€ (ìƒì„¸ ì¸ì‚¬ì´íŠ¸) [v0.8.3]
â”‚   â”‚   â”œâ”€â”€ GlobalRanking.tsx  # ê¸€ë¡œë²Œ ë­í‚¹
â”‚   â”‚   â””â”€â”€ Settings.tsx     # ì„¤ì • (API í‚¤, ì•Œë¦¼, ìê²©ì¦ëª…)
â”‚   â”œâ”€â”€ src/components/
â”‚   â”‚   â””â”€â”€ simulation/      # Paper Trading ì»´í¬ë„ŒíŠ¸ [v0.8.0]
â”‚   â””â”€â”€ src/types/generated/ # ts-rs ìë™ ìƒì„± íƒ€ì… (paper_trading ì¶”ê°€)
â”œâ”€â”€ migrations_v2/           # í†µí•© ë§ˆì´ê·¸ë ˆì´ì…˜ (9ê°œ)
â”œâ”€â”€ scripts/                 # ML í›ˆë ¨ íŒŒì´í”„ë¼ì¸
â””â”€â”€ docs/                    # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

## ê¸°ìˆ  ìŠ¤íƒ

| ì˜ì—­ | ê¸°ìˆ  |
|------|------|
| Backend | Rust, Tokio, Axum, WebSocket (ì‹¤ì‹œê°„ ì‹œì„¸) |
| Database | PostgreSQL (TimescaleDB), Redis |
| Frontend | SolidJS, TypeScript, Vite |
| ML | ONNX Runtime, XGBoost, LightGBM, RandomForest |
| Exchange | KIS (KR/US í†µí•©), Binance, Upbit, Bithumb, DBê¸ˆìœµíˆ¬ì, LSì¦ê¶Œ, Mock Provider |
| Testing | Playwright (E2E), pytest (ML) |
| Infrastructure | Podman/Docker, TimescaleDB, Redis |

## ë¹ ë¥¸ ì‹œì‘

### ìš”êµ¬ì‚¬í•­
- Rust 1.83+ (ONNX Runtime í˜¸í™˜)
- Node.js 18+
- **Podman** (ê¶Œì¥) ë˜ëŠ” Docker & Docker Compose
- PostgreSQL 15+ (TimescaleDB) / Redis 7+

### ì„¤ì¹˜

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/berrzebb/zeroquant.git
cd zeroquant

# í™˜ê²½ ì„¤ì •
cp .env.example .env
```

### Podman ì„¤ì • (Windows)

```bash
# Podman ì„¤ì¹˜
winget install RedHat.Podman

# Podman Machine ì´ˆê¸°í™” ë° ì‹œì‘
podman machine init --cpus=2 --memory=2048 --disk-size=20
podman machine start
```

### ì‹¤í–‰ (ì¸í”„ë¼ + ë¡œì»¬ ê°œë°œ)

```bash
# 1. ì¸í”„ë¼ ì‹œì‘ (DB, Redis) - Podman ë˜ëŠ” Docker ëª¨ë‘ ì§€ì›
podman compose up -d    # Podman ì‚¬ìš© ì‹œ
# docker-compose up -d  # Docker ì‚¬ìš© ì‹œ

# 2. ë°±ì—”ë“œ ì‹¤í–‰ (ë¡œì»¬)
export DATABASE_URL=postgresql://trader:trader_secret@localhost:5432/trader
export REDIS_URL=redis://localhost:6379
cargo run --bin trader-api --features ml --release  # ML ê¸°ëŠ¥ í¬í•¨

# 3. í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰ (ë¡œì»¬)
cd frontend && npm install && npm run dev
```

### ëª…ë ¹ì–´ ë§¤í•‘ (Docker â†” Podman)

| Docker | Podman |
|--------|--------|
| `docker-compose up -d` | `podman compose up -d` |
| `docker-compose down` | `podman compose down` |
| `docker-compose logs -f` | `podman compose logs -f` |
| `docker exec -it` | `podman exec -it` |
| `docker ps` | `podman ps` |

### ML ëª¨ë¸ í›ˆë ¨

```bash
# Podmanìœ¼ë¡œ ML í›ˆë ¨ ì‹¤í–‰
podman compose --profile ml run --rm trader-ml \
  python scripts/train_ml_model.py --symbol SPY --model xgboost

# ì‚¬ìš© ê°€ëŠ¥í•œ ì‹¬ë³¼ ëª©ë¡
podman compose --profile ml run --rm trader-ml \
  python scripts/train_ml_model.py --list-symbols
```

### E2E í…ŒìŠ¤íŠ¸

```bash
# Playwright ì„¤ì¹˜
cd frontend && npx playwright install

# E2E í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm run test:e2e

# íŠ¹ì • í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npx playwright test risk-management-ui.spec.ts
```

---

## ë°ì´í„° ìˆ˜ì§‘ê¸° (Collector)

`trader-collector`ëŠ” ì‹œì¥ ë°ì´í„°ë¥¼ ìë™ìœ¼ë¡œ ìˆ˜ì§‘í•˜ê³  ë¶„ì„ ì§€í‘œë¥¼ ê³„ì‚°í•˜ëŠ” ë…ë¦½ ì‹¤í–‰í˜• CLI ë„êµ¬ì…ë‹ˆë‹¤.

### ì›Œí¬í”Œë¡œìš° êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Group A: ì™¸ë¶€ API ì›Œí¬í”Œë¡œìš°                   â”‚
â”‚                    (Rate Limited - 60ë¶„ ì£¼ê¸°)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. ì‹¬ë³¼ ë™ê¸°í™”     â†’ KRX, Binance, Yahooì—ì„œ ì¢…ëª© ëª©ë¡ ìˆ˜ì§‘      â”‚
â”‚  2. Fundamental    â†’ PER, PBR, ROE, ì„¹í„°, ì‹œê°€ì´ì•¡ ë“±            â”‚
â”‚  3. OHLCV ìˆ˜ì§‘     â†’ ì¼ë´‰/ì‹œê°„ë´‰/ë¶„ë´‰ ë°ì´í„° ìˆ˜ì§‘                 â”‚
â”‚     â””â”€â”€ KRX API ì§ì ‘ ìˆ˜ì§‘ (v0.8.0): ëˆ„ë½ ë²”ìœ„ ìë™ ê°ì§€ + ë°°ì¹˜ ì €ì¥â”‚
â”‚  4. ë§¤í¬ë¡œ ë°ì´í„°   â†’ í™˜ìœ¨, ê¸ˆë¦¬, ìœ ê°€ ë“± ë§¤í¬ë¡œ ì§€í‘œ (Redis ìºì‹œ)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Group B: ë‚´ë¶€ ê³„ì‚° ì›Œí¬í”Œë¡œìš°                   â”‚
â”‚                    (No Rate Limit - 15ë¶„ ì£¼ê¸°)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. ì§€í‘œ ë™ê¸°í™”     â†’ RouteState, MarketRegime, TTM Squeeze      â”‚
â”‚  2. GlobalScore    â†’ 7ê°œ íŒ©í„° ê¸°ë°˜ ì¢…í•© ì ìˆ˜ ê³„ì‚°                 â”‚
â”‚  3. ìŠ¤í¬ë¦¬ë‹ ë·°     â†’ Materialized View ê°±ì‹                      â”‚
â”‚  4. ì‹ í˜¸ ì„±ê³¼       â†’ ê³¼ê±° ì‹ í˜¸ì˜ Nì¼ í›„ ìˆ˜ìµë¥  ê³„ì‚°               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Group C: ì‹¤ì‹œê°„ ë°ì´í„° ì›Œí¬í”Œë¡œìš°                 â”‚
â”‚                    (5ë¶„ ì£¼ê¸°)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. ì‹œì¥ í­ ì§€í‘œ   â†’ ì „ì¢…ëª© ë“±ë½ ë¹„ìœ¨ (KOSPI/KOSDAQ/ì „ì²´)          â”‚
â”‚  2. ë§¤í¬ë¡œ ë°ì´í„°   â†’ í™˜ìœ¨, ê¸ˆë¦¬, ìœ ê°€ â†’ Redis ìºì‹±                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CLI ëª…ë ¹ì–´

```bash
# ë¹Œë“œ
cargo build -p trader-collector --release

# ì‹¤í–‰ (í™˜ê²½ë³€ìˆ˜ ì„¤ì • í›„)
./target/release/trader-collector <command>
```

#### ë°ì´í„° ìˆ˜ì§‘ ëª…ë ¹ì–´

| ëª…ë ¹ì–´ | ì„¤ëª… | ì˜ˆì‹œ |
|--------|------|------|
| `sync-symbols` | ì‹¬ë³¼ ì •ë³´ ë™ê¸°í™” | `collector sync-symbols` |
| `collect-ohlcv` | OHLCV ë°ì´í„° ìˆ˜ì§‘ | `collector collect-ohlcv --stale-hours 24` |
| `sync-naver-fundamentals` | ë„¤ì´ë²„ ê¸ˆìœµ ë°ì´í„° ìˆ˜ì§‘ (KR) | `collector sync-naver-fundamentals` |
| `sync-yahoo-fundamentals` | Yahoo í€ë”ë©˜í„¸ ìˆ˜ì§‘ (US/ê¸€ë¡œë²Œ) | `collector sync-yahoo-fundamentals --market US` |
| `sync-krx-fundamentals` | KRX API ë°ì´í„° ìˆ˜ì§‘ | `collector sync-krx-fundamentals` |

#### ë¶„ì„ ì§€í‘œ ëª…ë ¹ì–´

| ëª…ë ¹ì–´ | ì„¤ëª… | ì˜ˆì‹œ |
|--------|------|------|
| `sync-indicators` | ê¸°ìˆ  ì§€í‘œ ë™ê¸°í™” | `collector sync-indicators` |
| `sync-global-scores` | GlobalScore ê³„ì‚° | `collector sync-global-scores` |
| `refresh-screening` | ìŠ¤í¬ë¦¬ë‹ ë·° ê°±ì‹  | `collector refresh-screening` |
| `sync-signal-performance` | ì‹ í˜¸ ì„±ê³¼ ê³„ì‚° | `collector sync-signal-performance --max-days 20` |

#### ìš´ì˜ ëª…ë ¹ì–´

| ëª…ë ¹ì–´ | ì„¤ëª… | ì˜ˆì‹œ |
|--------|------|------|
| `run-all` | ì „ì²´ ì›Œí¬í”Œë¡œìš° 1íšŒ ì‹¤í–‰ | `collector run-all` |
| `daemon` | ë°ëª¬ ëª¨ë“œ (ì£¼ê¸°ì  ì‹¤í–‰) | `collector daemon` |
| `checkpoint list` | ì²´í¬í¬ì¸íŠ¸ ìƒíƒœ ì¡°íšŒ | `collector checkpoint list` |
| `checkpoint clear` | ì²´í¬í¬ì¸íŠ¸ ì‚­ì œ | `collector checkpoint clear naver_fundamental` |
| `scheduler-status` | ìŠ¤ì¼€ì¤„ëŸ¬ ìƒíƒœ í™•ì¸ | `collector scheduler-status --market KR` |

### ëª¨ë“ˆ êµ¬ì¡° (v0.8.0)

```
trader-collector/src/modules/
â”œâ”€â”€ symbol_sync.rs           # ì‹¬ë³¼ ì •ë³´ ë™ê¸°í™” (KRX, Binance, Yahoo)
â”œâ”€â”€ fundamental_sync.rs      # í€ë”ë©˜í„¸ ë°ì´í„° (Naver, Yahoo, KRX)
â”œâ”€â”€ ohlcv_collect.rs         # OHLCV ìˆ˜ì§‘ (KRX API ì§ì ‘ ìˆ˜ì§‘, ëˆ„ë½ ë²”ìœ„ ê°ì§€)
â”œâ”€â”€ indicator_sync.rs        # ê¸°ìˆ  ì§€í‘œ ê³„ì‚° (RouteState, MarketRegime)
â”œâ”€â”€ global_score_sync.rs     # GlobalScore 7íŒ©í„° ì¢…í•© ì ìˆ˜
â”œâ”€â”€ market_breadth_sync.rs   # ì‹œì¥ í­ ì§€í‘œ (ì „ì¢…ëª© ë“±ë½ ë¹„ìœ¨) [v0.8.0 ì‹ ê·œ]
â”œâ”€â”€ macro_data_sync.rs       # ë§¤í¬ë¡œ ê²½ì œ ë°ì´í„° (í™˜ìœ¨, ê¸ˆë¦¬, ìœ ê°€)
â”œâ”€â”€ screening_refresh.rs     # Materialized View ê°±ì‹ 
â”œâ”€â”€ signal_performance_sync.rs # ì‹ í˜¸ ì„±ê³¼ ì¶”ì 
â”œâ”€â”€ scheduler.rs             # ì‹œì¥ ìš´ì˜ ì‹œê°„ ê¸°ë°˜ ìŠ¤ì¼€ì¤„ë§
â”œâ”€â”€ checkpoint.rs            # ìˆ˜ì§‘ ì¤‘ë‹¨/ì¬ê°œ ì²´í¬í¬ì¸íŠ¸
â”œâ”€â”€ watchlist_helper.rs      # ê´€ì‹¬ì¢…ëª© ë°ì´í„° ìš°ì„  ìˆ˜ì§‘ (Strategy Watched Tickers ì—°ë™) [v0.8.1]
â””â”€â”€ utils.rs                 # ê³µí†µ ìœ í‹¸ë¦¬í‹°
```

**v0.8.0 OHLCV ìˆ˜ì§‘ ê°œì„ :**
- KRX API ì§ì ‘ ìˆ˜ì§‘ìœ¼ë¡œ êµ­ë‚´ ì£¼ì‹ ë°ì´í„° ì •í™•ë„ í–¥ìƒ
- ê¸°ì¡´ ë°ì´í„°ì™€ ë¹„êµí•˜ì—¬ **ëˆ„ë½ ë²”ìœ„ ìë™ ê°ì§€** (`calculate_missing_ranges`)
- ë°°ì¹˜ ì €ì¥ìœ¼ë¡œ DB I/O ìµœì í™” (`save_krx_ohlcv_batch`)
- ì‹œê°€ì´ì•¡/ë°œí–‰ì£¼ì‹ìˆ˜ ë™ì‹œ ì—…ë°ì´íŠ¸ (`update_market_info_batch`)
- ìˆ˜ì§‘ ì§„í–‰ë¥  ì‹¤ì‹œê°„ í‘œì‹œ (`ProgressTracker`)

### ë°ëª¬ ëª¨ë“œ

```bash
# ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰ (systemd ë˜ëŠ” nohup)
nohup ./target/release/trader-collector daemon > collector.log 2>&1 &

# ë˜ëŠ” systemd ì„œë¹„ìŠ¤ë¡œ ë“±ë¡
sudo systemctl enable trader-collector
sudo systemctl start trader-collector
```

**ë°ëª¬ ëª¨ë“œ ë™ì‘:**
- **Group A** (ì™¸ë¶€ API): 60ë¶„ë§ˆë‹¤ ì‹¤í–‰ (`DAEMON_INTERVAL_MINUTES`)
- **Group B** (ë‚´ë¶€ ê³„ì‚°): 15ë¶„ë§ˆë‹¤ ì‹¤í–‰ (`RANKING_INTERVAL_MINUTES`)
- **Group C** (ì‹¤ì‹œê°„ ë°ì´í„°): 5ë¶„ë§ˆë‹¤ ì‹¤í–‰ (`REALTIME_INTERVAL_MINUTES`)
- ì‹œì¥ ìš´ì˜ ì‹œê°„ ê¸°ë°˜ ìŠ¤ì¼€ì¤„ë§ ì§€ì› (`SCHEDULING_ENABLED=true`)

### ì¦ë¶„ ìˆ˜ì§‘

```bash
# 24ì‹œê°„ ì´ìƒ ì§€ë‚œ ì‹¬ë³¼ë§Œ OHLCV ìˆ˜ì§‘
collector collect-ohlcv --stale-hours 24

# íŠ¹ì • ì‹¬ë³¼ë§Œ ìˆ˜ì§‘
collector collect-ohlcv --symbols "005930,000660,035720"

# ì¤‘ë‹¨ì ë¶€í„° ì¬ê°œ (ë„¤ì´ë²„ í€ë”ë©˜í„¸)
collector sync-naver-fundamentals --resume
```

### ì²´í¬í¬ì¸íŠ¸ ì‹œìŠ¤í…œ

ëŒ€ìš©ëŸ‰ ìˆ˜ì§‘ ì‘ì—…ì˜ ì¤‘ë‹¨/ì¬ê°œë¥¼ ì§€ì›í•©ë‹ˆë‹¤.

```bash
# í˜„ì¬ ì²´í¬í¬ì¸íŠ¸ ìƒíƒœ í™•ì¸
collector checkpoint list

# ì¶œë ¥ ì˜ˆì‹œ:
# ğŸ“‹ ì²´í¬í¬ì¸íŠ¸ ìƒíƒœ:
# --------------------------------------------------------------------------------
#   naver_fundamental         | ìƒíƒœ: running      | ì²˜ë¦¬:  1234ê°œ | ë§ˆì§€ë§‰: 005930
#   indicator_sync            | ìƒíƒœ: completed    | ì²˜ë¦¬:  2500ê°œ | ë§ˆì§€ë§‰: 999999
# --------------------------------------------------------------------------------

# íŠ¹ì • ì›Œí¬í”Œë¡œìš° ì²´í¬í¬ì¸íŠ¸ ì‚­ì œ (ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘)
collector checkpoint clear naver_fundamental

# ì‹¤í–‰ ì¤‘ì¸ ì›Œí¬í”Œë¡œìš°ë¥¼ interruptedë¡œ ë§ˆí‚¹
collector checkpoint interrupt naver_fundamental
```

### ìŠ¤ì¼€ì¤„ë§ (ì‹œì¥ ìš´ì˜ ì‹œê°„ ê¸°ë°˜)

```bash
# í™˜ê²½ë³€ìˆ˜ ì„¤ì •
SCHEDULING_ENABLED=true
SCHEDULING_KRX_DELAY_MINUTES=60    # ì¥ë§ˆê° í›„ 60ë¶„ ëŒ€ê¸°
SCHEDULING_SKIP_WEEKENDS=true
SCHEDULING_SKIP_HOLIDAYS=true

# ìŠ¤ì¼€ì¤„ëŸ¬ ìƒíƒœ í™•ì¸
collector scheduler-status --market KR

# ì¶œë ¥ ì˜ˆì‹œ:
# ğŸ“… KR ì‹œì¥ ìŠ¤ì¼€ì¤„ëŸ¬ ìƒíƒœ:
#   í˜„ì¬ ì‹œê°„: 2026-02-06 16:30:00 KST
#   ì¥ ìƒíƒœ: ë§ˆê°
#   ë‹¤ìŒ ìˆ˜ì§‘: 2026-02-07 09:00:00 KST
```

---

## ì„¤ì •

### í™˜ê²½ ë³€ìˆ˜
```env
DATABASE_URL=postgresql://trader:password@localhost:5432/trader
REDIS_URL=redis://localhost:6379
JWT_SECRET=your-secret-key
ENCRYPTION_MASTER_KEY=your-32-byte-key-base64
```

### ê±°ë˜ì†Œ API í‚¤
ì›¹ ëŒ€ì‹œë³´ë“œ **ì„¤ì • > API í‚¤ ê´€ë¦¬**ì—ì„œ ë“±ë¡í•©ë‹ˆë‹¤. ëª¨ë“  í‚¤ëŠ” AES-256-GCMìœ¼ë¡œ ì•”í˜¸í™” ì €ì¥ë©ë‹ˆë‹¤.

---

## ì„¤ì¹˜ ê°€ì´ë“œ

### ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

| í•­ëª© | ìµœì†Œ | ê¶Œì¥ |
|------|------|------|
| **OS** | Windows 10, Ubuntu 20.04, macOS 12 | Windows 11, Ubuntu 22.04, macOS 14 |
| **CPU** | 4 ì½”ì–´ | 8 ì½”ì–´ ì´ìƒ |
| **ë©”ëª¨ë¦¬** | 8GB | 16GB ì´ìƒ |
| **ì €ì¥ê³µê°„** | 20GB | 50GB+ (ì‹œê³„ì—´ ë°ì´í„°) |
| **Rust** | 1.83+ | ìµœì‹  stable |
| **Node.js** | 18+ | 20+ |
| **PostgreSQL** | 15+ (TimescaleDB) | 16+ |

### 1ë‹¨ê³„: í•„ìˆ˜ ë„êµ¬ ì„¤ì¹˜

#### Windows
```powershell
# Rust ì„¤ì¹˜
winget install Rustlang.Rust.MSVC

# Node.js ì„¤ì¹˜
winget install OpenJS.NodeJS.LTS

# Podman ì„¤ì¹˜ (ê¶Œì¥)
winget install RedHat.Podman

# Visual Studio Build Tools (C++ ë¹Œë“œ í•„ìˆ˜)
winget install Microsoft.VisualStudio.2022.BuildTools
```

#### Linux (Ubuntu/Debian)
```bash
# Rust ì„¤ì¹˜
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source ~/.cargo/env

# Node.js ì„¤ì¹˜
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt install -y nodejs

# Podman ì„¤ì¹˜
sudo apt install -y podman podman-compose

# ë¹Œë“œ ë„êµ¬
sudo apt install -y build-essential pkg-config libssl-dev
```

#### macOS
```bash
# Homebrewë¡œ ì„¤ì¹˜
brew install rust node podman

# Podman ì´ˆê¸°í™”
podman machine init
podman machine start
```

### 2ë‹¨ê³„: í”„ë¡œì íŠ¸ ì„¤ì •

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/berrzebb/zeroquant.git
cd zeroquant

# í™˜ê²½ ì„¤ì •
cp .env.example .env

# .env íŒŒì¼ í¸ì§‘ (í•„ìˆ˜ ê°’ ì„¤ì •)
# DATABASE_URL=postgresql://trader:trader_secret@localhost:5432/trader
# REDIS_URL=redis://localhost:6379
# JWT_SECRET=your-secret-key-min-32-chars
# ENCRYPTION_MASTER_KEY=your-32-byte-encryption-key-base64
```

### 3ë‹¨ê³„: ì¸í”„ë¼ ì‹¤í–‰

```bash
# Podman ì»¨í…Œì´ë„ˆ ì‹œì‘ (TimescaleDB + Redis)
podman compose up -d

# ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸
podman ps

# ë¡œê·¸ í™•ì¸
podman compose logs -f
```

### 4ë‹¨ê³„: ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

```bash
# ë§ˆì´ê·¸ë ˆì´ì…˜ ê²€ì¦
cargo run -p trader-cli -- migrate verify

# ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©
cargo run -p trader-cli -- migrate apply --dir migrations_v2
```

### 5ë‹¨ê³„: ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹Œë“œ ë° ì‹¤í–‰

```bash
# ë°±ì—”ë“œ ë¹Œë“œ (Release + ML ê¸°ëŠ¥)
cargo build --bin trader-api --features ml --release

# ë°±ì—”ë“œ ì‹¤í–‰
./target/release/trader-api

# ë˜ëŠ” ê°œë°œ ëª¨ë“œ
cargo run --bin trader-api --features ml

# í”„ë¡ íŠ¸ì—”ë“œ ì„¤ì¹˜ ë° ì‹¤í–‰ (ìƒˆ í„°ë¯¸ë„)
cd frontend
npm install
npm run dev
```

### 6ë‹¨ê³„: ì ‘ì† í™•ì¸

| ì„œë¹„ìŠ¤ | URL |
|--------|-----|
| ì›¹ ëŒ€ì‹œë³´ë“œ | http://localhost:5173 |
| API ì„œë²„ | http://localhost:3000 |
| API ë¬¸ì„œ (Swagger) | http://localhost:3000/swagger-ui |
| TimescaleDB | localhost:5432 |
| Redis | localhost:6379 |

### ë¬¸ì œ í•´ê²°

#### Podman Machine ì‹œì‘ ì‹¤íŒ¨ (Windows)
```powershell
# WSL2 ì„¤ì¹˜ í™•ì¸
wsl --install

# Podman Machine ì¬ì´ˆê¸°í™”
podman machine stop
podman machine rm
podman machine init --cpus=2 --memory=4096
podman machine start
```

#### ë¹Œë“œ ì—ëŸ¬: ONNX Runtime
```bash
# Windows: Visual C++ Redistributable ì„¤ì¹˜
winget install Microsoft.VCRedist.2015+.x64

# Linux: ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
sudo apt install -y libonnxruntime-dev
```

#### ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨
```bash
# ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸
podman ps -a

# TimescaleDB ë¡œê·¸ í™•ì¸
podman logs trader-timescaledb

# ì§ì ‘ ì—°ê²° í…ŒìŠ¤íŠ¸
podman exec -it trader-timescaledb psql -U trader -d trader
```

---

## ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ

ZeroQuantëŠ” ë°ì´í„° ì•ˆì „ì„±ì„ ë³´ì¥í•˜ëŠ” ë§ˆì´ê·¸ë ˆì´ì…˜ ê´€ë¦¬ ë„êµ¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### í•µì‹¬ ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| **ìë™ ê²€ì¦** | ì¤‘ë³µ ì •ì˜, CASCADE ì‚¬ìš©, ìˆœí™˜ ì˜ì¡´ì„± ìë™ ê²€ì¶œ |
| **ë©±ë“±ì„± ë³´ì¥** | IF NOT EXISTS ìë™ ì£¼ì…ìœ¼ë¡œ ì¬ì‹¤í–‰ ì•ˆì „ |
| **í†µí•© ê³„íš** | 19ê°œ â†’ 9ê°œ ë…¼ë¦¬ì  ê·¸ë£¹ í†µí•© |
| **ì˜ì¡´ì„± ì‹œê°í™”** | Mermaid/DOT/Text í˜•ì‹ ê·¸ë˜í”„ ìƒì„± |

### CLI ëª…ë ¹ì–´

```bash
# ë§ˆì´ê·¸ë ˆì´ì…˜ ê²€ì¦
trader migrate verify [--verbose] [--dir migrations_v2]

# í†µí•© ê³„íš ìƒì„± (dry-run)
trader migrate consolidate --dry-run

# í†µí•© ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±
trader migrate consolidate --output migrations_v2

# ì˜ì¡´ì„± ê·¸ë˜í”„ ì‹œê°í™”
trader migrate graph [--format mermaid|dot|text]

# ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©
trader migrate apply --db-url "postgres://..." --dir migrations_v2

# ì ìš© ìƒíƒœ í™•ì¸
trader migrate status --db-url "postgres://..."
```

### ê²€ì¶œ ì½”ë“œ

| ì½”ë“œ | ì‹¬ê°ë„ | ì„¤ëª… | í•´ê²° ë°©ë²• |
|------|--------|------|----------|
| `DUP001` | âš ï¸ WARNING | ì¤‘ë³µ ì •ì˜ | ìµœì‹  ë²„ì „ë§Œ ìœ ì§€ |
| `CASC001` | âš ï¸ WARNING | CASCADE ì‚¬ìš© | ëª…ì‹œì  ì‚­ì œ ìˆœì„œë¡œ ë³€ê²½ |
| `CIRC001` | ğŸ”´ ERROR | ìˆœí™˜ ì˜ì¡´ì„± | ì˜ì¡´ì„± êµ¬ì¡° ì¬ì„¤ê³„ |
| `IDEM001` | â„¹ï¸ INFO | IF NOT EXISTS ëˆ„ë½ | ìë™ ì£¼ì… ë˜ëŠ” ìˆ˜ë™ ì¶”ê°€ |
| `DCPAT001` | âš ï¸ WARNING | DROP í›„ CREATE íŒ¨í„´ | ë°ì´í„° ë°±ì—… í›„ ì§„í–‰ |
| `DATA001-003` | âš ï¸ WARNING | ë°ì´í„° ì†ì‹¤ ìœ„í—˜ | ì‚¬ì „ ë°±ì—… í•„ìˆ˜ |

### í†µí•© ë§ˆì´ê·¸ë ˆì´ì…˜ êµ¬ì¡°

```
migrations_v2/
â”œâ”€â”€ 01_core_foundation.sql        # Extensions, ENUM, symbols, credentials
â”œâ”€â”€ 02_data_management.sql        # symbol_info, ohlcv, fundamental, ë·°
â”œâ”€â”€ 03_trading_analytics.sql      # trade_executions, position_snapshots
â”œâ”€â”€ 04_strategy_signals.sql       # signal_marker, alert_rule, alert_history
â”œâ”€â”€ 05_evaluation_ranking.sql     # global_score, reality_check, score_history
â”œâ”€â”€ 06_user_settings.sql          # watchlist, preset, notification, checkpoint
â”œâ”€â”€ 07_performance_optimization.sql # ì¸ë±ìŠ¤, Materialized View, Hypertable
â”œâ”€â”€ 08_paper_trading.sql          # Mock ê±°ë˜ì†Œ, ì „ëµ-ê³„ì • ì—°ê²°, Paper Trading ì„¸ì…˜ [v0.8.0]
â””â”€â”€ 09_strategy_watched_tickers.sql # ì „ëµë³„ ê´€ì‹¬ ì¢…ëª©, Collector ìš°ì„ ìˆœìœ„ ì—°ë™ [v0.8.1]
```

### ì•ˆì „í•œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì ˆì°¨

```bash
# 1. í˜„ì¬ ìŠ¤í‚¤ë§ˆ ë°±ì—…
podman exec -it trader-timescaledb pg_dump -U trader -s trader > schema_backup.sql

# 2. ì¤‘ìš” ë°ì´í„° ë°±ì—…
podman exec -it trader-timescaledb pg_dump -U trader -t symbols -t ohlcv -t trade_executions trader > data_backup.sql

# 3. ë§ˆì´ê·¸ë ˆì´ì…˜ ê²€ì¦
trader migrate verify --verbose

# 4. í…ŒìŠ¤íŠ¸ DBì—ì„œ ë¨¼ì € ì ìš©
trader migrate apply --db-url "postgres://test_db..." --dir migrations_v2

# 5. ìŠ¤í‚¤ë§ˆ ë¹„êµ í›„ ìš´ì˜ ì ìš©
trader migrate apply --dir migrations_v2
```

### í”„ë¡œê·¸ë˜ë§¤í‹± ë§ˆì´ê·¸ë ˆì´ì…˜

```rust
use trader_core::migration::{SafeMigrationBuilder, MigrationValidator};

// ì•ˆì „í•œ ë§ˆì´ê·¸ë ˆì´ì…˜ ë¹Œë”
let migration = SafeMigrationBuilder::new()
    .with_backup("symbols", "symbols_backup")
    .create_table("new_table", r#"
        CREATE TABLE IF NOT EXISTS new_table (
            id SERIAL PRIMARY KEY,
            name TEXT NOT NULL
        )
    "#)
    .add_index("new_table", "idx_new_table_name", &["name"])
    .build();

// ê²€ì¦ í›„ ì ìš©
let validator = MigrationValidator::new(&files);
let report = validator.validate();
if report.has_errors() {
    eprintln!("{}", report);
    return Err("ë§ˆì´ê·¸ë ˆì´ì…˜ ê²€ì¦ ì‹¤íŒ¨");
}
```

> ğŸ“– ìƒì„¸ ê°€ì´ë“œ: [docs/migration_guide.md](docs/migration_guide.md)

---

## ë¬¸ì„œ

| ë¬¸ì„œ | ì„¤ëª… |
|------|------|
| [API ë¬¸ì„œ](docs/api.md) | REST/WebSocket API ë ˆí¼ëŸ°ìŠ¤ |
| [ì•„í‚¤í…ì²˜](docs/architecture.md) | ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ìƒì„¸ |
| [ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ](docs/migration_guide.md) | ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ê´€ë¦¬ |
| [ì„¤ì¹˜/ë°°í¬ ê°€ì´ë“œ](docs/setup_guide.md) | ì¸í”„ë¼, í™˜ê²½ì„¤ì •, ë°°í¬ |
| [ìš´ì˜ ê°€ì´ë“œ](docs/operations.md) | ì¼ì¼ ìš´ì˜, ëª¨ë‹ˆí„°ë§, ë°±ì—… |
| [ë°ì´í„° ìˆ˜ì§‘](docs/data_collection.md) | Collector, ë‚´ë¶€ ì‹œìŠ¤í…œ |
| [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](docs/troubleshooting.md) | ë¬¸ì œ í•´ê²° ê°€ì´ë“œ |
| [ê°œë°œ ê·œì¹™](docs/development_rules.md) | ì½”ë“œ ì‘ì„± ê·œì¹™ ë° ê°€ì´ë“œë¼ì¸ |
| [ì „ëµ ê°€ì´ë“œ](docs/STRATEGY_GUIDE.md) | ì „ëµë³„ ìƒì„¸ íŒŒë¼ë¯¸í„° ë° ë°ì´í„° ì—°ë™ |
| [Claude ê°€ì´ë“œ](CLAUDE.md) | AI ì„¸ì…˜ ì»¨í…ìŠ¤íŠ¸ |

## ë¼ì´ì„ ìŠ¤

MIT License
